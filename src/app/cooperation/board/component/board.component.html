<div nz-row>
  <div nz-col [nzXs]="12" [nzSm]="12">

  </div>
  <div nz-col style="text-align: right" [nzXs]="12" [nzSm]="12">
    <button nz-button (click)="getBoardTree()">
      <span nz-icon nzType="search" nzTheme="outline"></span>
      조회
    </button>
    <button nz-button (click)="newBoard()">
      <span nz-icon nzType="form" nzTheme="outline"></span>
      게시판 등록
    </button>
    <button nz-button (click)="newArticle()">
      <span nz-icon nzType="form" nzTheme="outline"></span>
      게시글 등록
    </button>
    <button nz-button (click)="editArticle()">
      <span nz-icon nzType="form" nzTheme="outline"></span>
      게시글 수정
    </button>
  </div>
</div>


<div class="tree">
  <h3 class="pgm-title">게시판 목록</h3>
  <nz-input-group nzSearch [nzSuffix]="suffixIconSearch">
    <input type="text" [(ngModel)]="queryValue" nz-input placeholder="input search text">
  </nz-input-group>
  <ng-template #suffixIconSearch>
    <span nz-icon nzType="search"></span>
  </ng-template>
  <app-board-tree id="boardTree" #boardTree
    [searchValue]="queryValue"
    (itemSelected)="setBoardSelect($event)"
    (itemDbClicked)="modifyBoard($event)">
  </app-board-tree>
</div>


<nz-tabset [(nzSelectedIndex)]="tabIndex" nzType="editable-card" nzHideAdd (nzClose)="closeTab($event)">
  <nz-tab [nzTitle]="tabTitle">
    <div id="grid-wrapper" class="grid">
      <app-article-grid id="articleGrid" #articleGrid
        (rowClicked)="selectArticle($event)"
        (rowDoubleClicked)="addTabArticleView()">
      </app-article-grid>
    </div>
  </nz-tab>
  <nz-tab *ngFor="let tab of tabs; let i = index" [nzClosable]="i >= 0" [nzTitle]="tab.tabName">
    <app-article-view [article]="tab.article">
    </app-article-view>
  </nz-tab>
</nz-tabset>


<nz-drawer
    [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom':'53px' }"
    [nzMaskClosable]="true"
    [nzWidth]="'80%'"
    [nzVisible]="boardDrawerVisible"
    nzTitle="게시판 등록"
    (nzOnClose)="closeBoardDrawer()">
    <app-board-form id="boardForm" #boardForm *nzDrawerContent
      [initLoadId]="this.selectedBoardId"
      (formSaved)="getBoardTree()"
      (formDeleted)="getBoardTree()"
      (formClosed)="closeBoardDrawer()">
    </app-board-form>
</nz-drawer>

<nz-drawer
    [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom':'53px' }"
    [nzMaskClosable]="true"
    [nzWidth]="'80%'"
    [nzVisible]="articleDrawerVisible"
    nzTitle="게시글 등록"
    (nzOnClose)="closeArticleDrawer()">
    <app-article-form id="articleForm" #articleForm *nzDrawerContent
      [boardId]="this.selectedBoardId"
      [initLoadId]="this.selectedArticleId"
      (formSaved)="getArticleGridData()"
      (formDeleted)="getArticleGridData()"
      (formClosed)="closeArticleDrawer()">
    </app-article-form>
</nz-drawer>

<nz-drawer
    [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom':'53px' }"
    [nzMaskClosable]="true"
    [nzWidth]="800"
    [nzVisible]="articleViewDrawerVisible"
    nzTitle="게시글 조회"
    (nzOnClose)="closeArticleViewDrawer()">
    <app-article-view [article]="selectedArticle" *nzDrawerContent>

    </app-article-view>
</nz-drawer>

