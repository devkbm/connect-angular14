<app-nz-page-header-custom title="부서코드 등록" subtitle="This is a subtitle"></app-nz-page-header-custom>

<!--조회 조건-->
<div nz-row class="btn-group">
  <div nz-col [nzSpan]="12">
    <nz-input-group nzSearch [nzSuffix]="suffixIconSearch">
      <input type="text" style="ime-mode:normal;" [(ngModel)]="queryValue" nz-input placeholder="input search text">
    </nz-input-group>
    <ng-template #suffixIconSearch>
      <i nz-icon nzType="search"></i>
    </ng-template>
  </div>
  <div nz-col [nzSpan]="12" style="text-align: right;">
    <button nz-button (click)="getDeptTree()">
      <i nz-icon nzType="search"></i>
      조회
    </button>
    <nz-divider nzType="vertical"></nz-divider>
    <button nz-button (click)="initForm()">
      <i nz-icon nzType="form" nzTheme="outline"></i>
      신규
    </button>
    <nz-divider nzType="vertical"></nz-divider>
    <button nz-button nzType="primary"
      nz-popconfirm nzPopconfirmTitle="저장하시겠습니까?"
      (nzOnConfirm)="saveDept()" (nzOnCancel)="false">
      <span nz-icon nzType="save" nzTheme="outline"></span>
      저장
    </button>
    <nz-divider nzType="vertical"></nz-divider>
    <button nz-button nzDanger
      nz-popconfirm nzPopconfirmTitle="삭제하시겠습니까?"
      (nzOnConfirm)="deleteDept()" (nzOnCancel)="false">
      <i nz-icon nzType="delete" nzTheme="outline"></i>
      삭제
    </button>
  </div>
</div>

<!-- -->
<h3 class="pgm-title">부서코드 목록</h3>

<div class="grid-wrapper">
  <app-dept-tree
    #deptTree
    id="deptTree"
    [searchValue]="queryValue"
    (itemSelected)="selectedItem($event)">
  </app-dept-tree>

  <app-dept-form
    id="deptForm"
    #deptForm
    (formSaved)="getDeptTree()"
    (formDeleted)="getDeptTree()">
  </app-dept-form>
</div>
